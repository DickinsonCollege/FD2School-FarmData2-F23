<!DOCTYPE html>
<html>
<head>
    <title>Vue1</title>
</head>
<body>
    <h1>Harvest Report</h1>
    <p>This page is a <i>mockup</i> of a simplified harvest report.</p>

    <div id="report" v-cloak>
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" v-model="reportTitle"/>
        <br>
        <br>
        <label for="start-date">Start:</label>
        <input type="date" id="start-date" name="start-date" min="2014-01-01" max="2022-01-01" v-model="reportStartDate" />
        <label for="end-date">End:</label>
        <input type="date" id="end-date" name="end-date" min="2020-05-05" max="2022-01-01" v-model="reportEndDate" />
        <br>
        <br>
        <label for="crop">Crop:</label>
        <select id="crop" name="crop" v-model="reportCrop">
            <option v-for="crop in crops">{{ crop }}</option>
        </select>
        <label for="field">Area:</label>
        <select id="field" name="field">
            <option v-for="area in areas">{{ area }}</option>
        </select>
        <br>
        <br>
        <button type="button" @click="generateReport">Generate Report</button>
        <hr>

        <h1>{{ reportTitle ? reportTitle : "Mock Harvest Report" }}</h1>

        <p>Details:</p>
        <ul>
            <li><strong>Farm</strong>:Sample Farm</li>
            <li><strong>User</strong>:manager1</li>
            <li><strong>Language</strong>:English</li>
            <br>
            <li><strong>Start</strong>:{{ reportStartDate }}</li>
            <li><strong>End</strong>:{{ reportEndDate }}</li>
            <li><strong>Crop</strong>:{{ reportCrop }}</li>
        </ul>
        <br>
        <table border="1">
            <tr>
                <th>Row</th>
                <th>Date</th>
                <th>Area</th>
                <th>Crop</th>
                <th>Yield</th>
                <th>Units</th>
                <th>Delete</th>
            </tr>
            <tr v-for="(log,index) in harvestLogs">
                <td>{{ index + 1}}</td>
                <td>{{ log.date }}</td>
                <td>{{ log.area }}</td>
                <td>{{ log.crop }}</td>
                <td>{{ log.yield }}</td>
                <td>{{ log.units }}</td>
                <td><button type="button" @click="deleteRow">Delete</button></td>
            </tr>
        </table>
    </div>

    <script>
        var report = new Vue ({
            el: "#report",
            data: {
                reportTitle: "My Sample Harvest Report",
                reportStartDate: "05/05/2020",
                reportEndDate: "05/15/2020",
                reportCrop: "Kale",
                crops: [
                    "Broccoli",
                    "Kale",
                    "Peas",
                ],
                areas: [
                    "All",
                    "Chuau-1",
                    "SQ7",
                ],
                harvestLogs: [],
            },
            methods: {
                generateReport: function() {
                    this.harvestLogs.push({date: "2018-05-01", area: "Orion-3", crop: "Kale", yield: "12", units: "Bunches"});
                },
                deleteRow: function(rowIndex) {
                    this.harvestLogs.splice(rowIndex, 1);
                }
            }
        });
        Vue.config.devtools = true;
    </script>
</body>
</html>

